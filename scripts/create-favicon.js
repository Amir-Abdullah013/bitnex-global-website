const fs = require('fs');
const path = require('path');

// Create a proper favicon.ico file
const createFavicon = () => {
  // Create a simple 16x16 ICO file using a minimal approach
  // This creates a basic ICO file with a blue "T" icon
  const icoData = Buffer.from([
    // ICO file header
    0x00, 0x00, // Reserved (must be 0)
    0x01, 0x00, // Type (1 = ICO)
    0x01, 0x00, // Number of images
    
    // Image directory entry
    0x10,       // Width (16)
    0x10,       // Height (16)
    0x00,       // Color palette (0 = no palette)
    0x00,       // Reserved
    0x01, 0x00, // Color planes
    0x20, 0x00, // Bits per pixel (32)
    0x40, 0x00, 0x00, 0x00, // Size of image data
    0x16, 0x00, 0x00, 0x00, // Offset to image data
    
    // Image data (16x16 32-bit RGBA)
    // This is a simplified blue "T" icon
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
  ]);
  
  fs.writeFileSync(path.join(process.cwd(), 'public', 'favicon.ico'), icoData);
  console.log('âœ… Created proper favicon.ico');
};

// Create additional favicon formats
const createFaviconSVG = () => {
  const svgContent = `<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
    <rect width="32" height="32" fill="#3B82F6" rx="4"/>
    <circle cx="16" cy="16" r="8" fill="white"/>
    <text x="16" y="20" text-anchor="middle" fill="#3B82F6" font-family="Arial, sans-serif" font-size="10" font-weight="bold">T</text>
  </svg>`;
  
  fs.writeFileSync(path.join(process.cwd(), 'public', 'favicon.svg'), svgContent);
  console.log('âœ… Created favicon.svg');
};

// Create Apple touch icon
const createAppleTouchIcon = () => {
  const svgContent = `<svg width="180" height="180" viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg">
    <rect width="180" height="180" fill="#3B82F6" rx="20"/>
    <circle cx="90" cy="90" r="45" fill="white"/>
    <text x="90" y="110" text-anchor="middle" fill="#3B82F6" font-family="Arial, sans-serif" font-size="60" font-weight="bold">T</text>
  </svg>`;
  
  fs.writeFileSync(path.join(process.cwd(), 'public', 'apple-touch-icon.png'), svgContent);
  console.log('âœ… Created apple-touch-icon.png');
};

// Run the functions
createFavicon();
createFaviconSVG();
createAppleTouchIcon();

console.log('ðŸŽ‰ All favicon files created successfully!');
